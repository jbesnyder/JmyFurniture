<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Jmy Furniture</title>
  <style>
    /* -----------------------------
       EASY‑TO‑EDIT STYLE VARIABLES
    ----------------------------- */
    :root {
      --bg-color: #f4f4f4;
      --text-color: #111;
      --accent-color: #333;

      /* Fonts */
      --title-font: 'Arial Black', sans-serif; /* list titles */
      --frame-font: 'Helvetica', sans-serif; /* frame area */

      /* Layout */
      --left-width: 40%;
      --transition-speed: 0.35s;
    }

    body {
      flex-direction: column;
      margin: 0;
      display: flex;
      height: 100vh;
      background: var(--bg-color);
      color: var(--text-color);
      overflow: hidden;
      font-family: var(--frame-font);
    }

    /* -----------------------------
       TOP BAR
    ----------------------------- */
    #topbar {
      width: 100%;
      padding: 15px 25px;
      font-family: var(--title-font);
      font-size: 2rem;
      background: var(--accent-color);
      color: var(--bg-color);
      box-sizing: border-box;
    }

    /* -----------------------------
       CONTENT: SIDEBAR + FRAME
    ----------------------------- */
    #content {
      display: flex;
      flex-grow: 1;
      height: 100%;
    }

    #sidebar {
      width: var(--left-width);
      padding: 30px;
      background: var(--bg-color);
      display: flex;
      flex-direction: column;
      justify-content: center;
      gap: 12px;
      box-sizing: border-box;
    }

    .project {
      font-family: var(--title-font);
      font-size: 1.6rem;
      letter-spacing: 1px;
      cursor: pointer;
      transition: color var(--transition-speed);
      user-select: none;
    }
    .project:hover {
      color: var(--accent-color);
    }

    /* -----------------------------
       RIGHT IMAGE FRAME
    ----------------------------- */
    #frame {
      flex-grow: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
      box-sizing: border-box;
      flex-direction: column;
    }

    #display {
      max-width: 90%;
      max-height: 75%;
      object-fit: contain;
      border-radius: 8px;
      transition: opacity var(--transition-speed);
      display: block;
    }

    #thumbnails {
      display: flex;
      gap: 8px;
      overflow-x: auto;
      margin-top: 12px;
      max-width: 90%;
      padding-bottom: 6px;
    }

    #thumbnails img {
      width: 64px;
      height: 64px;
      object-fit: cover;
      border-radius: 6px;
      cursor: pointer;
      transition: transform 0.15s ease, box-shadow 0.15s ease;
      border: 2px solid transparent;
    }
    #thumbnails img:hover { transform: scale(1.03); }
    #thumbnails img.active { box-shadow: 0 4px 10px rgba(0,0,0,0.12); border-color: var(--accent-color); }

    /* responsive tweak */
    @media (max-width: 800px) {
      :root { --left-width: 45%; }
      #display { max-height: 60%; }
      #sidebar { padding: 18px; }
    }
  </style>
</head>
<body>
  <div id="topbar">Jmy Furniture</div>
  <div id="content">
    <div id="sidebar">
      <!-- EASY TO ADD PROJECTS: just duplicate these lines -->
      <div class="project" data-images="img/DeskLamp2-min.jpg, img/DeskLamp1-min.jpg">DeskLamp</div>
      <div class="project" data-images="img/appleTree2-min.jpg, img/appleTree3-min, appleTree1-min">appleTreeChair</div>
      <div class="project" data-images="images/stool.jpg">Stool</div>
      <div class="project" data-images="images/shelf.jpg">Shelf</div>
      <div class="project" data-images="images/deity-lamp.jpg">Deity Lamp</div>
      <!-- Add more as needed -->
    </div>

    <div id="frame">
      <img id="display" src="" alt="Project image" />
      <div id="thumbnails" aria-hidden="false"></div>
    </div>
  </div>

  <script>
    const display = document.getElementById('display');

    // Helper: parse a project's images attribute (supports data-images or data-image)
    function parseImagesFromProject(el) {
      const raw = el.getAttribute('data-images') || el.getAttribute('data-image') || '';
      if (!raw) return [];
      return raw.split(',').map(s => s.trim()).filter(Boolean);
    }

    // Collect project elements
    const projects = Array.from(document.querySelectorAll('.project'));

    // Build master list of all images across all projects (for global slideshow)
    const images = projects.flatMap(p => parseImagesFromProject(p));

    let slideshow = null;

    function showImage(src) {
      if (!src) return;
      display.style.opacity = 0;
      setTimeout(() => {
        display.src = src;
        display.style.opacity = 1;
      }, 200);
    }

    function showRandomImage() {
      if (!images.length) return;
      const randomIndex = Math.floor(Math.random() * images.length);
      showImage(images[randomIndex]);
    }

    function startSlideshow() {
      stopSlideshow();
      showRandomImage();
      slideshow = setInterval(showRandomImage, 3000);
    }

    function stopSlideshow() {
      if (slideshow) { clearInterval(slideshow); slideshow = null; }
    }

    // Project-specific slideshow state
    let projectSlideshow = null;

    function buildThumbnails(imgs, activeIdx = 0) {
      const box = document.getElementById('thumbnails');
      box.innerHTML = '';
      imgs.forEach((src, i) => {
        const t = document.createElement('img');
        t.src = src;
        t.alt = 'thumbnail ' + (i+1);
        if (i === activeIdx) t.classList.add('active');
        t.addEventListener('click', () => {
          // jump to clicked image and update active state
          showImage(src);
          box.querySelectorAll('img').forEach(img => img.classList.remove('active'));
          t.classList.add('active');
        });
        box.appendChild(t);
      });
    }

    // Attach hover behavior to projects — Option A behaviour
    projects.forEach(project => {
      project.addEventListener('mouseenter', () => {
        // stop global slideshow
        stopSlideshow();
        // clear any previous project slideshow
        if (projectSlideshow) { clearInterval(projectSlideshow); projectSlideshow = null; }

        const imgs = parseImagesFromProject(project);
        if (!imgs.length) return;

        // show first image immediately
        showImage(imgs[0]);

        // build thumbnails and mark first active
        buildThumbnails(imgs, 0);

        // start project-specific slideshow rotating through imgs
        let idx = 0;
        projectSlideshow = setInterval(() => {
          idx = (idx + 1) % imgs.length;
          showImage(imgs[idx]);
          // update thumbnail active state
          const thumbs = document.getElementById('thumbnails').querySelectorAll('img');
          thumbs.forEach((t, i) => t.classList.toggle('active', i === idx));
        }, 2500);
      });

      project.addEventListener('mouseleave', () => {
        // stop the project slideshow
        if (projectSlideshow) { clearInterval(projectSlideshow); projectSlideshow = null; }
        // clear thumbnails
        const box = document.getElementById('thumbnails');
        if (box) box.innerHTML = '';
        // resume global slideshow
        startSlideshow();
      });
    });

    // Start the global slideshow on load
    startSlideshow();
  </script>
</body>
</html>
