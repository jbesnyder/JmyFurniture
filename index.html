<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Jmy Furniture</title>
  <style>
    /* -----------------------------
       EASY‑TO‑EDIT STYLE VARIABLES
    ----------------------------- */
    :root {
      --bg-color: #f4f4f4;
      --text-color: #111;
      --accent-color: #333;

      /* Fonts */
      --title-font: 'Arial Black', sans-serif; /* list titles */
      --frame-font: 'Helvetica', sans-serif; /* frame area */

      /* Layout */
      --left-width: 33%;
      --transition-speed: 0.35s;
    }

    body {
      flex-direction: column;
      margin: 0;
      display: flex;
      height: 100vh;
      background: var(--bg-color);
      color: var(--text-color);
      overflow: hidden;
      font-family: var(--frame-font);
    }

    /* -----------------------------
       TOP BAR
    ----------------------------- */
    #topbar {
      width: 100%;
      padding: 15px 25px;
      font-family: var(--title-font);
      font-size: 2rem;
      background: transparent;
      color: #000;
      box-sizing: border-box;
    }

    /* -----------------------------
       CONTENT: SIDEBAR + FRAME
    ----------------------------- */
    #content {
      display: flex;
      flex-grow: 1;
      height: 100%;
    }

    #sidebar {
      width: var(--left-width);
      padding: 30px;
      background: var(--bg-color);
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      gap: 2px;
      box-sizing: border-box;
      overflow: hidden;
    }

    .project {
      font-family: var(--title-font);
      font-size: 1rem;
      letter-spacing: 1px;
      cursor: pointer;
      transition: color var(--transition-speed), font-size var(--transition-speed);
      user-select: none;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .project:hover {
      color: var(--accent-color);
    }

    /* -----------------------------
       RIGHT IMAGE FRAME
    ----------------------------- */
    #frame {
      flex-grow: 1;
      display: flex;
      justify-content: flex-start; /* keep centered vertically */
      align-items: center; /* centered horizontally */
      padding-top: 20px;
      box-sizing: border-box;
      flex-direction: column;
    }

    #display {
      margin-top: 0; /* centered */ /* adjust this value to change spacing above the image */
      max-width: 90%;
      max-height: 80%;
      object-fit: contain;
      border-radius: 8px;
      transition: opacity var(--transition-speed);
      display: block;
    }

    #thumbnails {
      display: flex;
      gap: 8px;
      overflow-x: auto;
      margin-top: 12px;
      max-width: 90%;
      padding-bottom: 6px;
      transition: opacity var(--transition-speed);
    }

    #thumbnails img {
      width: 64px;
      height: 64px;
      object-fit: cover;
      border-radius: 6px;
      cursor: pointer;
      transition: transform 0.15s ease, box-shadow 0.15s ease, opacity 0.25s ease;
      border: 2px solid transparent;
    }
    #thumbnails img:hover { transform: scale(1.03); }
    #thumbnails img.active { box-shadow: 0 4px 10px rgba(0,0,0,0.12); border-color: var(--accent-color); }

    /* responsive tweak */
    @media (max-width: 800px) {
      :root { --left-width: 45%; }
      #display { max-height: 60%; }
      #sidebar { padding: 18px; }
    }

    /* Description box */
    .description {
      display: inline-block;
      position: static;
      opacity: 0;
      margin-left: 6px;
      font-size: 0.9rem;
      font-family: Helvetica, Arial, sans-serif; /* lighter, clean font */
      font-weight: 300; /* less bold */
      line-height: 1.2;
      white-space: nowrap;
      transform: translateX(-4px);
      transition: opacity var(--transition-speed), transform var(--transition-speed);
      : 0.9rem;
      line-height: 1.2;
      white-space: nowrap;
      transform: translateX(-4px);
      transition: opacity var(--transition-speed), transform var(--transition-speed);
    }

    .description.show {
      opacity: 1;
      transform: translateX(0);
      /* animation will be applied dynamically in JS */
    }

    .divider {
      border: none;
      border-top: 1px solid #bbb;
      margin: 8px 0;
      opacity: 0.6;
    }
  </style>
</head>
<body>
  <div id="topbar">Jmy Furniture</div>
  <hr class="divider">
  <div id="content">
    <div id="sidebar">
      <!-- EASY TO ADD PROJECTS: now with optional data-desc -->
       <div class="project" data-images="images/Twist02.jpg, images/Twist01.jpg" data-desc="2023 - Bittersweet vine and steel.">BitterSweetLamp.jmy</div>
      <div class="project" data-images="images/Desklamp01.jpg, images/DeskLamp02.jpg, images/Desklamp03.jpg" data-desc="2023 - Beech, cherry and porcelin.">DeskLamp</div>
      <div class="project" data-images="images/Deity01.jpg, images/Deity02.jpg, images/Deity03.jpg, images/Deity04.jpg" data-desc="2024 - Oak, silk and metal bits.">DeityLamp</div>
      <div class="project" data-images="images/BeechLamp01.jpg" data-desc="2023 - Beech, Cherry and Beech leaves.">BeechLamp</div>
      <hr class="divider">
      <div class="project" data-images="images/tree01.jpg, images/tree02.jpg, images/tree03.jpg" data-desc="2024 - Cypress and boxwood.">appleTreeChair.jmy</div>
      <div class="project" data-images="images/tiles01.jpg, images/tiles02.jpg" data-desc="2025 - Steel tube and pine.">TileChair</div>
      <div class="project" data-images="images/draft01.jpg" data-desc="2023 - Walnut and Steel .">DraftingDesk+Stool</div>
      <div class="project" data-images="images/Bench01.jpg, images/Bench02.jpg" data-desc="2023 - Pine log and a Radiator.">SolsticeBench</div>
      <hr class="divider">
      <div class="project" data-images="images/Garbage01.jpg" data-desc="2025 - Oak and acrylic.">GarbageCan</div>
      <div class="project" data-images="images/Dovetails01.jpg, images/Dovetails02.jpg, images/Dovetails03.jpg, images/Dovetails04.webp" data-desc="2024 - Red cedar.">Dovetails</div>
      <div class="project" data-images="images/CandleGuards01.jpg, images/CandleGuards2.jpg, images/Candle03.jpg" data-desc="2025 - Boxwood.">CandleBowl</div>
      <div class="project" data-images="images/basket01.jpg, images/Basket02.jpg, images/Basket03.jpg" data-desc="2025 - Oak and Paduk.">Basket</div>
      <hr class="divider">
      <div class="project" data-images="images/steel01.jpg, images/steel02.jpg, images/steel03.jpg, images/steel04.jpg, images/steel05.jpg, images/steel06.jpg" data-desc="2025.">SheetChair</div>
      <div class="project" data-images="images/cab01.png, images/cab02.png, images/cab03.png" data-desc="2025.">ILostSomthingOfMine</div>
      <!-- Add more as needed -->
    </div>

    <div id="frame">
      <img id="display"  src="" alt="Project image" />
      <div id="thumbnails" aria-hidden="false"></div>
    </div>
  </div>

  <script>
    const display = document.getElementById('display');

    function parseImagesFromProject(el) {
      const raw = el.getAttribute('data-images') || el.getAttribute('data-image') || '';
      if (!raw) return [];
      return raw.split(',').map(s => s.trim()).filter(Boolean);
    }

    const projects = Array.from(document.querySelectorAll('.project'));

    const images = projects.flatMap(p => parseImagesFromProject(p));

    let slideshow = null;
    let lastRandomIndex = -1;
    let resumeTimeout = null;

    function showImage(src) {
      if (!src) return;
      display.style.opacity = 0;
      setTimeout(() => {
        display.src = src;
        display.style.opacity = 1;
      }, 200);
    }

    function showRandomImage() {
      if (!images.length) return;
      let randomIndex;
      do {
        randomIndex = Math.floor(Math.random() * images.length);
      } while (randomIndex === lastRandomIndex && images.length > 1);
      lastRandomIndex = randomIndex;
      showImage(images[randomIndex]);
    }

    function startSlideshow() {
      stopSlideshow();
      showRandomImage();
      slideshow = setInterval(showRandomImage, 3000);
    }

    function stopSlideshow() {
      if (slideshow) { clearInterval(slideshow); slideshow = null; }
    }

    let projectSlideshow = null;

    function buildThumbnails(imgs, activeIdx = 0) {
      const box = document.getElementById('thumbnails');
      box.innerHTML = '';
      imgs.forEach((src, i) => {
        const t = document.createElement('img');
        
        t.src = src;
        t.alt = 'thumbnail ' + (i+1);
        if (i === activeIdx) t.classList.add('active');
        t.addEventListener('click', () => {
          showImage(src);
          box.querySelectorAll('img').forEach(img => img.classList.remove('active'));
          t.classList.add('active');
        });
        box.appendChild(t);
      });
    }

    // DESCRIPTION HANDLING
    function showDescription(project) {
      let desc = project.querySelector('.description');
      if (!desc || !desc.classList.contains('description')) {
        desc = document.createElement('div');
        desc.className = 'description';
        desc.textContent = project.getAttribute('data-desc') || 'Description coming soon.';
        project.appendChild(desc);
      }
      desc.classList.add('show');

      /* remove any previous animation */
      desc.style.animation = 'none';

      /* start auto-scroll only if needed */
      setTimeout(() => {
        if (desc.scrollWidth > desc.clientWidth) {
          desc.style.animation = 'descScroll 10s linear infinite';
        }
      }, 1000); /* wait 1 second before scrolling */
    }

    function hideDescription(project) {
      let desc = project.querySelector('.description');
      if (desc && desc.classList.contains('description')) {
        desc.classList.remove('show');
      }
    }

    // Attach hover behavior to projects
    projects.forEach(project => {
      project.addEventListener('mouseenter', () => {
        if (resumeTimeout) { clearTimeout(resumeTimeout); resumeTimeout = null; }

        // enlarge hovered title
        project.style.fontSize = '1.4rem';

        showDescription(project);
        const desc = project.nextElementSibling;
        const rect = project.getBoundingClientRect();
        /* inline description: no positioning required */

        // stop global slideshow
        stopSlideshow();
        if (projectSlideshow) { clearInterval(projectSlideshow); projectSlideshow = null; }

        const imgs = parseImagesFromProject(project);
        if (!imgs.length) return;

        // show first image immediately
        showImage(imgs[0]);

        // build thumbnails and mark first active
        buildThumbnails(imgs, 0);

        // start project-specific slideshow rotating through imgs
        let idx = 0;
        projectSlideshow = setInterval(() => {
          idx = (idx + 1) % imgs.length;
          showImage(imgs[idx]);
          // update thumbnail active state
          const thumbs = document.getElementById('thumbnails').querySelectorAll('img');
          thumbs.forEach((t, i) => t.classList.toggle('active', i === idx));
        }, 2500);
      });

      project.addEventListener('mouseleave', () => {
        // reset title size
        project.style.fontSize = '1rem'; /* reset to original size */

        hideDescription(project);
        if (projectSlideshow) { clearInterval(projectSlideshow); projectSlideshow = null; }
        // DO NOT clear thumbnails — keep them during delay

        if (resumeTimeout) clearTimeout(resumeTimeout);
        resumeTimeout = setTimeout(() => {
          // once the delay ends, clear thumbnails and resume slideshow
          const box = document.getElementById('thumbnails');
          if (box) box.innerHTML = '';
          startSlideshow();
        }, 1000);
      });
    });

    // Start the global slideshow on load
    startSlideshow();
  </script>
</body>
</html>
